(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[13],{104:function(e,t,a){},105:function(e,t,a){},124:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a.n(n),r=a(8),s=a(1),l=a(0),o=a.n(l),i=a(12),u=a(3),m=a(22),p=a(35),h=a(10),d=a(15),f=(a(104),a(16)),b=a(21),E=function(e){var t=e.bucket,a=e.deleteBucket,n=Object(l.useState)(!1),E=Object(s.a)(n,2),k=E[0],v=E[1],w=Object(l.useState)(t.isVisited),x=Object(s.a)(w,2),j=x[0],O=x[1],y=Object(l.useContext)(h.a),C=Object(d.a)(),N=C.isLoading,g=C.error,I=C.sendRequest,B=C.clearError,S=t.id,_=Object(i.h)().userId,z=function(){v(!1)},L=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("".concat("https://placesharer.herokuapp.com/api","/user/bucketlist/").concat(t.id._id),"DELETE",null,{Authorization:"Bearer "+y.token});case 3:a(t.id._id),e.next=8;break;case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("".concat("https://placesharer.herokuapp.com/api","/user/bucketlist/").concat(t.id._id),"PUT",null,{"Content-Type":"application/json",Authorization:"Bearer "+y.token});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return g?o.a.createElement(b.a,{error:g,onClear:B}):o.a.createElement(l.Fragment,null,N&&o.a.createElement(f.a,{asOverlay:!0}),o.a.createElement("div",{className:"bucket-list-item no-select"},o.a.createElement(p.a,{show:k,onCancel:z,header:t.name,contentClass:"place-item__modal-content",footerClass:"place-item__actions",footer:o.a.createElement(m.a,{onClick:z},"Close")},o.a.createElement("div",{className:"detail-item"},o.a.createElement("div",{className:"bucket-image"},o.a.createElement("img",{style:{width:"100%"},src:S.image.imageUrl,alt:"bucket-place"})),o.a.createElement("div",{className:"bucket-info"},o.a.createElement("p",{style:{fontSize:"1.5em"}},S.title),o.a.createElement("p",null,S.description),o.a.createElement("p",null,"Address: ",S.address),o.a.createElement("p",{className:"bucket-creator"}," ",o.a.createElement("strong",null,"Shared by:")," ",o.a.createElement(u.b,{to:"/".concat(S.creator,"/places")},t.createdBy))))),o.a.createElement("p",{style:{textDecoration:j?"line-through":"none"}},t&&t.id.title),_===y.userId&&o.a.createElement(m.a,{size:"mobile",danger:!0,onClick:function(){L()}},"Delete"),o.a.createElement(m.a,{size:"mobile",onClick:function(){v(!0)}},"Show Details"),_===y.userId&&o.a.createElement(m.a,{size:"mobile",inverse:!0,onClick:function(){O(!j),q()}},j?"Not Visited":"Visited")))};a(105),t.default=function(){var e=Object(d.a)(),t=e.isLoading,a=e.error,n=e.sendRequest,m=e.clearError,p=(Object(i.g)(),Object(l.useState)()),k=Object(s.a)(p,2),v=k[0],w=k[1],x=Object(i.h)().userId,j=Object(l.useContext)(h.a),O=function(e){w((function(t){return t.filter((function(t){return t.id._id!==e}))}))};Object(l.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("".concat("https://placesharer.herokuapp.com/api","/user/bucketlist?q=").concat(x));case 3:t=e.sent,w(t.userWithBucketList),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[n,x]);var y=Object(l.useState)(),C=Object(s.a)(y,2),N=C[0],g=C[1];return Object(l.useEffect)((function(){(function(){var e=Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n("".concat("https://placesharer.herokuapp.com/api","/users/").concat(x,"/"));case 3:t=e.sent,g(t),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[n,x]),a?o.a.createElement(b.a,{error:a,onClear:m,header:"Hey!"}):t?o.a.createElement("div",{className:"center"},o.a.createElement(f.a,null)):o.a.createElement("div",null,x===j.userId&&o.a.createElement("div",{className:"share-box  no-select"},o.a.createElement("div",{className:"share-button"},o.a.createElement("a",{href:"https://twitter.com/intent/tweet?url=".concat(encodeURIComponent("".concat("https://placesharer.herokuapp.com","/").concat(x,"/bucketlist")),"&text=My+Travel+Bucket+List%2C+Connect+and+Explore.&hashtags=travelling,wanderlust,yourplacesapp")},o.a.createElement("i",{className:"fab fa-twitter-square"})),o.a.createElement("a",{href:"https://www.facebook.com/sharer.php?u=".concat(encodeURIComponent("".concat("https://placesharer.herokuapp.com","/").concat(x,"/bucketlist")))},o.a.createElement("i",{className:"fab fa-facebook-square"}))),o.a.createElement("p",null,"SHARE")),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"bucket-list-content"},o.a.createElement("div",{className:"m-b-2"},o.a.createElement("h2",{className:" white-text fade-in no-select center"},"Bucket List of"," ",o.a.createElement("span",{className:"m-05 yellow-text"}," ",N&&N.user.name)," ")),v&&0===v.length&&j.userId===x&&o.a.createElement("h2",{className:"center white-text fade-in",style:{flexDirection:"column"}},"You don't have any places in your bucket list. Maybe check some places?",o.a.createElement(u.b,{to:"/"}," Go to home")),j.userId!==x&&v&&0===v.length&&o.a.createElement("h2",{className:"center white-text fade-in"},"This user does not have any places in their bucket list"),v&&v.map((function(e,t){return o.a.createElement(E,{bucket:e,key:t,index:t,deleteBucket:O})})))))}}}]);
//# sourceMappingURL=13.66dafac3.chunk.js.map