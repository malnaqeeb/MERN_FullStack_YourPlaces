(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[2],{135:function(e,a,t){"use strict";var n=t(75),r=t(2),o=t(0),c=(t(13),t(76)),i=t(77),l=t(82),s=t(177),d=t(79),u=o.forwardRef((function(e,a){var t=e.children,i=e.classes,l=e.className,u=e.color,p=void 0===u?"default":u,m=e.component,b=void 0===m?"button":m,h=e.disabled,f=void 0!==h&&h,g=e.disableElevation,v=void 0!==g&&g,y=e.disableFocusRipple,x=void 0!==y&&y,E=e.endIcon,O=e.focusVisibleClassName,j=e.fullWidth,k=void 0!==j&&j,S=e.size,C=void 0===S?"medium":S,w=e.startIcon,N=e.type,z=void 0===N?"button":N,R=e.variant,I=void 0===R?"text":R,T=Object(n.a)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),F=w&&o.createElement("span",{className:Object(c.a)(i.startIcon,i["iconSize".concat(Object(d.a)(C))])},w),L=E&&o.createElement("span",{className:Object(c.a)(i.endIcon,i["iconSize".concat(Object(d.a)(C))])},E);return o.createElement(s.a,Object(r.a)({className:Object(c.a)(i.root,i[I],l,"inherit"===p?i.colorInherit:"default"!==p&&i["".concat(I).concat(Object(d.a)(p))],"medium"!==C&&[i["".concat(I,"Size").concat(Object(d.a)(C))],i["size".concat(Object(d.a)(C))]],v&&i.disableElevation,f&&i.disabled,k&&i.fullWidth),component:b,disabled:f,focusRipple:!x,focusVisibleClassName:Object(c.a)(i.focusVisible,O),ref:a,type:z},T),o.createElement("span",{className:i.label},F,t,L))}));a.a=Object(i.a)((function(e){return{root:Object(r.a)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:Object(l.c)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(l.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(Object(l.c)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:Object(l.c)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(Object(l.c)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:Object(l.c)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(u)},136:function(e,a,t){},140:function(e,a,t){"use strict";t.r(a);var n=t(32),r=t(4),o=t.n(r),c=t(8),i=t(1),l=t(0),s=t.n(l),d=t(3),u=t(12),p=t(33),m=t(26),b=(t(86),t(15)),h=t(21),f=t(135),g=t(2),v=t(75),y=t(76),x=(t(13),t(36)),E=t.n(x),O=t(176);function j(e,a){var t={};return Object.keys(e).forEach((function(n){-1===a.indexOf(n)&&(t[n]=e[n])})),t}var k=t(107),S=function(e){var a=function(e){return function(a){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=Object(v.a)(t,["name"]);var o,c=n,i="function"===typeof a?function(e){return{root:function(t){return a(Object(g.a)({theme:e},t))}}}:{root:a},l=Object(O.a)(i,Object(g.a)({Component:e,name:n||e.displayName,classNamePrefix:c},r));a.filterProps&&(o=a.filterProps,delete a.filterProps),a.propTypes&&(a.propTypes,delete a.propTypes);var d=s.a.forwardRef((function(a,t){var n=a.children,r=a.className,c=a.clone,i=a.component,d=Object(v.a)(a,["children","className","clone","component"]),u=l(a),p=Object(y.a)(u.root,r),m=d;if(o&&(m=j(m,o)),c)return s.a.cloneElement(n,Object(g.a)({className:Object(y.a)(n.props.className,p)},m));if("function"===typeof n)return n(Object(g.a)({className:p},m));var b=i||e;return s.a.createElement(b,Object(g.a)({ref:t,className:p},m),n)}));return E()(d,e),d}}(e);return function(e,t){return a(e,Object(g.a)({defaultTheme:k.a},t))}},C=t(171),w=t(77),N=l.forwardRef((function(e,a){var t=e.classes,n=e.className,r=e.raised,o=void 0!==r&&r,c=Object(v.a)(e,["classes","className","raised"]);return l.createElement(C.a,Object(g.a)({className:Object(y.a)(t.root,n),elevation:o?8:1,ref:a},c))})),z=S(Object(w.a)({root:{overflow:"hidden"}},{name:"MuiCard"})(N))({background:"#ff0055",border:0,font:"inherit",borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",height:40,width:175,padding:"10px"});function R(e){return s.a.createElement(z,null,e.children)}var I=t(17),T=function(e){var a=e.user,t=e.userData,n=e.auth,r=e.sendFriendRequestHandler,i=Object(b.a)(),g=i.isLoading,v=i.error,y=i.sendRequest,x=i.clearError,E=a.id,O=a.image,j=a.name,k=a.places,S=Object(l.useContext)(I.a),C=function(){var e=t.friends?t.friends.filter((function(e){return e.id===E})):[],a=t.friendRequests?t.friendRequests.filter((function(e){return e.user.id===E})):[],i=function(){var e=Object(c.a)(o.a.mark((function e(a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("".concat("https://placesharer.herokuapp.com/api","/user/friends"),"POST",JSON.stringify({friendId:a}),{Authorization:"Bearer "+n.token,"Content-Type":"application/json"});case 3:r(a),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}();return n.isLoggedIn?e.length>0?s.a.createElement(R,{variant:"contained",color:"secondary"},"FRIEND"):a.length>0?a[0].isSent?s.a.createElement(R,null,"Wait for response"):s.a.createElement(R,{variant:"contained",color:"secondary"},"Asked to be friend"):E===t.userId?s.a.createElement(s.a.Fragment,null):s.a.createElement(f.a,{variant:"contained",color:"primary",onClick:function(){return i(E)}},"Add Friend"):s.a.createElement(s.a.Fragment,null)},w=function(){var e=Object(u.g)(),t=function(){var t=Object(c.a)(o.a.mark((function t(){var r,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.id,t.prev=1,t.next=4,y("".concat("https://placesharer.herokuapp.com/api","/user/messages/").concat(r),"GET",null,{Authorization:"Bearer "+n.token});case 4:c=t.sent,S.messagesData=c.messages,S.id=r,e.push("/".concat(n.userId,"/messages")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}}();return s.a.createElement(f.a,{variant:"contained",color:"primary",onClick:t},"Message")};return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{error:v,onClear:x}),s.a.createElement("li",{className:"user-item"},s.a.createElement(m.a,{className:"user-item__content"},s.a.createElement(d.b,{to:"/".concat(E,"/places")},s.a.createElement("div",{className:"user-item__image"},s.a.createElement(p.a,{image:O,alt:j})),s.a.createElement("div",{className:"user-item__info"},s.a.createElement("h2",null,j),s.a.createElement("h3",null,k.length," ",1===k.length?"Place":"Places"))),n.isLoggedIn&&s.a.createElement("div",{className:"user-item__icon"},s.a.createElement(d.b,{to:"/".concat(E,"/bucketlist")},s.a.createElement("img",{src:"/images/bucketicon.png",style:{width:"100%"},alt:""})))),!g&&t&&E!==n.userId&&s.a.createElement("div",{className:"flex"},s.a.createElement(C,null),s.a.createElement(w,null))))},F=(t(136),function(e){var a=e.items,t=e.userData,n=e.auth,r=e.sendFriendRequestHandler;return 0===a.length?s.a.createElement("div",{className:"center fade-in"},s.a.createElement(m.a,null,s.a.createElement("h2",null,"No users found."))):s.a.createElement(s.a.Fragment,null,a.filter((function(e){return e._id===n.userId})).map((function(e){return s.a.createElement("div",{className:"profile-banner fade-in"},s.a.createElement("img",{src:e.image,alt:e.name}),s.a.createElement(d.b,{to:"/".concat(n.userId,"/my")},s.a.createElement("span",null,e.name)))})),s.a.createElement("ul",{className:"users-list users-mobile"},a.filter((function(e){return e._id!==n.userId})).map((function(e){return s.a.createElement(T,{user:e,auth:n,userData:t,sendFriendRequestHandler:r,key:e.id})}))))}),L=t(16),P=t(10),$=t(175),_=t(179);a.default=function(){var e=Object(l.useState)([]),a=Object(i.a)(e,2),t=a[0],r=a[1],d=Object(l.useState)({}),u=Object(i.a)(d,2),p=u[0],m=u[1],f=Object(l.useState)([]),g=Object(i.a)(f,2),v=g[0],y=g[1],x=Object(b.a)(),E=x.isLoading,O=x.error,j=x.sendRequest,k=x.clearError,S=Object(l.useState)(""),C=Object(i.a)(S,2),w=C[0],N=C[1],z=Object(l.useContext)(P.a);Object(l.useEffect)((function(){(function(){var e=Object(c.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j("".concat("https://placesharer.herokuapp.com/api","/users?sortBy=").concat(w));case 3:if(a=e.sent,r(a.users),!z.token){e.next=9;break}return e.next=8,j("".concat("https://placesharer.herokuapp.com/api","/users/me"),"GET",null,{Authorization:"Bearer "+z.token});case 8:t=e.sent;case 9:m(t),r(a.users),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}})()()}),[v,z.token,j,w]);return s.a.createElement(l.Fragment,null,s.a.createElement(h.a,{error:O,onClear:k}),E&&s.a.createElement("div",{className:"center"},s.a.createElement(L.a,null)),!E&&t&&s.a.createElement(l.Fragment,null,s.a.createElement($.a,{onChange:function(e){var a=e.target.value;"name"===a&&N("name"),"placesCount"===a&&N("-placesCount"),"registration"===a&&N("-created_at")},defaultValue:"none",style:{color:"white",margin:"1rem"}},s.a.createElement(_.a,{value:"none",disabled:!0},"Choose an option to Sort"),s.a.createElement(_.a,{value:"placesCount"},"Place Count"),s.a.createElement(_.a,{value:"name"},"Name"),s.a.createElement(_.a,{value:"registration"},"Registration Date")),s.a.createElement(F,{items:t,userData:p,auth:z,sendFriendRequestHandler:function(e){y((function(a){return[].concat(Object(n.a)(a),[e])}))}})))}},86:function(e,a,t){}}]);
//# sourceMappingURL=2.8eb62dd4.chunk.js.map